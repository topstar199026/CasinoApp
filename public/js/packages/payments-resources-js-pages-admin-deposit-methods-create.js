(window.webpackJsonp=window.webpackJsonp||[]).push([[80],{"+x5N":function(e,r,t){"use strict";t.d(r,"a",(function(){return a})),t.d(r,"b",(function(){return n}));var a=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",["input"===e.parameter.type?t("v-text-field",{class:{"mb-4":!!e.parameter.description},attrs:{value:e.value,label:e.$t(e.parameter.name),error:e.form.errors.has(e.formKey+"."+e.parameter.id),"error-messages":e.form.errors.get(e.formKey+"."+e.parameter.id),hint:e.parameter.description,"persistent-hint":!!e.parameter.description,disabled:e.disabled,outlined:""},on:{keydown:function(r){return e.clearFormErrors(r,e.formKey+"."+e.parameter.id)},change:e.change}}):"textarea"===e.parameter.type?t("v-textarea",{class:{"mb-4":!!e.parameter.description},attrs:{value:e.value,label:e.$t(e.parameter.name),error:e.form.errors.has(e.formKey+"."+e.parameter.id),"error-messages":e.form.errors.get(e.formKey+"."+e.parameter.id),hint:e.parameter.description,"persistent-hint":!!e.parameter.description,disabled:e.disabled,outlined:""},on:{keydown:function(r){return e.clearFormErrors(r,e.formKey+"."+e.parameter.id)},change:e.change}}):"switch"===e.parameter.type?t("v-switch",{class:{"mb-4":!!e.parameter.description},attrs:{value:e.value,label:e.$t(e.parameter.name),error:e.form.errors.has(e.formKey+"."+e.parameter.id),"error-messages":e.form.errors.get(e.formKey+"."+e.parameter.id),hint:e.parameter.description,"persistent-hint":!!e.parameter.description,disabled:e.disabled,outlined:"","false-value":0,"true-value":1,color:"primary"},on:{keydown:function(r){return e.clearFormErrors(r,e.formKey+"."+e.parameter.id)},change:e.change}}):e._e()],1)},n=[]},EuNa:function(e,r,t){"use strict";t.d(r,"a",(function(){return a})),t.d(r,"b",(function(){return n}));var a=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[e._l(e.value,(function(r,a){return t("v-card",{key:a,staticClass:"mb-5",attrs:{outlined:""}},[t("v-card-title",{staticClass:"font-weight-thin mb-3"},[e._v("\n      "+e._s(e.$t("Parameter {0}",[r.id]))+"\n    ")]),e._v(" "),t("v-card-text",[t("v-select",{attrs:{items:e.parameterTypes,label:e.$t("Type"),outlined:""},on:{change:e.change},model:{value:e.parameters[a].type,callback:function(r){e.$set(e.parameters[a],"type",r)},expression:"parameters[index].type"}}),e._v(" "),t("v-text-field",{attrs:{label:e.$t("Name"),rules:[e.validationRequired],outlined:""},on:{change:e.change},model:{value:e.parameters[a].name,callback:function(r){e.$set(e.parameters[a],"name",r)},expression:"parameters[index].name"}}),e._v(" "),t("v-text-field",{attrs:{label:e.$t("Description"),outlined:""},on:{change:e.change},model:{value:e.parameters[a].description,callback:function(r){e.$set(e.parameters[a],"description",r)},expression:"parameters[index].description"}}),e._v(" "),t("v-text-field",{staticClass:"mb-5",attrs:{label:e.$t("Validation rules"),hint:e.$t("Should be compatible with Laravel validation rules syntax: {0}",["https://laravel.com/docs/6.x/validation#available-validation-rules"]),"persistent-hint":!0,outlined:""},on:{change:e.change},model:{value:e.parameters[a].validation,callback:function(r){e.$set(e.parameters[a],"validation",r)},expression:"parameters[index].validation"}}),e._v(" "),"switch"===e.parameters[a].type?t("v-switch",{attrs:{label:e.$t("Default value"),"false-value":0,"true-value":1,color:"primary"},on:{change:e.change},model:{value:e.parameters[a].default,callback:function(r){e.$set(e.parameters[a],"default",r)},expression:"parameters[index].default"}}):t("v-text-field",{attrs:{label:e.$t("Default value"),outlined:"","hide-details":!0},on:{change:e.change},model:{value:e.parameters[a].default,callback:function(r){e.$set(e.parameters[a],"default",r)},expression:"parameters[index].default"}})],1),e._v(" "),t("v-card-actions",[t("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(r){return e.removeParameter(a)}}},[e._v("\n        "+e._s(e.$t("Remove"))+"\n      ")])],1)],1)})),e._v(" "),t("v-row",[t("v-col",{attrs:{cols:"12",lg:"6"}},[t("v-text-field",{attrs:{label:e.$t("Parameter name"),outlined:"","hide-details":!0,"append-icon":"mdi-plus"},on:{"click:append":e.addParameter},model:{value:e.parameterName,callback:function(r){e.parameterName=r},expression:"parameterName"}})],1)],1)],2)},n=[]},Eyh4:function(e,r,t){"use strict";var a=t("o0o1"),n=t.n(a),o=t("vDqi"),i=t.n(o),s=t("4HBT"),l=t.n(s);function c(e,r,t,a,n,o,i){try{var s=e[o](i),l=s.value}catch(e){return void t(e)}s.done?r(l):Promise.resolve(l).then(a,n)}function m(e){return function(){var r=this,t=arguments;return new Promise((function(a,n){var o=e.apply(r,t);function i(e){c(o,a,n,i,s,"next",e)}function s(e){c(o,a,n,i,s,"throw",e)}i(void 0)}))}}function d(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,r){if(!e)return;if("string"==typeof e)return u(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return u(e,r)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,a=new Array(r);t<r;t++)a[t]=e[t];return a}var p={data:function(){return{gateways:null,gatewayId:null,form:new l.a({payment_method_id:null,code:null,name:null,description:null,currency:"USD",rate:100,decimal_places:null,parameters:[],payment_method_parameters:{},enabled:0})}},computed:{gateway:function(){var e=this;return this.gatewayId?this.gateways.find((function(r){return r.id===e.gatewayId})):{}},gatewayPaymentMethod:function(){var e=this;return this.gatewayId&&this.form.payment_method_id?this.gateway.payment_methods.find((function(r){return r.id===e.form.payment_method_id})):{}},gatewayItems:function(){var e=[{text:this.$t("None"),value:null}];return this.gateways?[].concat(e,d(this.gateways.map((function(e){return{text:e.name,value:e.id}})))):e}},watch:{gateway:function(e){this.form.payment_method_id=null,this.form.payment_method_parameters={}},gatewayPaymentMethod:function(e){var r=this;e.id&&e.parameters.length&&e.parameters.forEach((function(e){r.form.payment_method_parameters[e.id]=e.default}))}},methods:{pullGateways:function(e){var r=this;return m(n.a.mark((function t(){var a,o;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.get("/api/admin/payment-gateways?type=".concat(e));case 2:a=t.sent,o=a.data,r.gateways=o;case 5:case"end":return t.stop()}}),t)})))()},create:function(e){var r=this;return m(n.a.mark((function t(){var a,o;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.form.post("/api/admin/".concat(e,"-methods"));case 2:a=t.sent,o=a.data,r.$store.dispatch("message/success",{text:o.message}),r.$router.push({name:"admin.".concat(e,"-methods.index")});case 6:case"end":return t.stop()}}),t)})))()}}};r.a=p},Ru6q:function(e,r,t){"use strict";t.r(r);var a=t("o0o1"),n=t.n(a),o=t("ZXch"),i=t("C3Ci"),s=t("Rc+0"),l=t("0MVl"),c=t("VmkK"),m=t("sDQO");function d(e,r,t,a,n,o,i){try{var s=e[o](i),l=s.value}catch(e){return void t(e)}s.done?r(l):Promise.resolve(l).then(a,n)}var u={components:{Preloader:s.a,EntityParameters:m.a,FormParameter:l.a},middleware:["auth","verified","2fa_passed","admin"],mixins:[i.a,c.a],metaInfo:function(){return{title:this.$t("Create deposit method")}},created:function(){var e,r=this;return(e=n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.pullGateways("in");case 1:case"end":return e.stop()}}),e)})),function(){var r=this,t=arguments;return new Promise((function(a,n){var o=e.apply(r,t);function i(e){d(o,a,n,i,s,"next",e)}function s(e){d(o,a,n,i,s,"throw",e)}i(void 0)}))})()},methods:{get:o.e}},p=t("KHd+"),f=t("ZUTo"),v=t.n(f),y=t("gzZi"),h=t("sK+t"),g=t("mdmw"),b=t("Yq0q"),w=t("pSOK"),_=t("S9TP"),x=t("Ey0z"),$=t("D9m0"),k=t("uXRr"),P=t("MSko"),V=t("L6Q5"),E=t("tz1R"),I=t("hlRy"),C=t("qEQh"),q=t("cdmR"),N=t("Kn9U"),R=Object(p.a)(u,(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("v-container",[t("v-row",{attrs:{align:"center",justify:"center"}},[t("v-col",{attrs:{cols:"12",md:"6"}},[t("v-card",[t("v-toolbar",[t("v-btn",{attrs:{icon:""},on:{click:function(r){return e.$router.go(-1)}}},[t("v-icon",[e._v("mdi-arrow-left")])],1),e._v(" "),t("v-toolbar-title",[e._v("\n            "+e._s(e.$t("Create deposit method"))+"\n          ")]),e._v(" "),t("v-spacer"),e._v(" "),t("preloader",{attrs:{active:!e.gateways}})],1),e._v(" "),t("v-card-text",[t("v-form",{on:{submit:function(r){return r.preventDefault(),e.create("deposit")}},model:{value:e.formIsValid,callback:function(r){e.formIsValid=r},expression:"formIsValid"}},[t("v-select",{attrs:{items:e.gatewayItems,label:e.$t("Payment gateway"),disabled:!e.gateways,outlined:""},model:{value:e.gatewayId,callback:function(r){e.gatewayId=r},expression:"gatewayId"}}),e._v(" "),t("v-select",{directives:[{name:"show",rawName:"v-show",value:e.gatewayId,expression:"gatewayId"}],attrs:{items:e.gateway.payment_methods,"item-text":"name","item-value":"id",label:e.$t("Payment method"),outlined:""},model:{value:e.form.payment_method_id,callback:function(r){e.$set(e.form,"payment_method_id",r)},expression:"form.payment_method_id"}}),e._v(" "),t("v-text-field",{attrs:{label:e.$t("Code"),type:"text",rules:[e.validationRequired],error:e.form.errors.has("code"),"error-messages":e.form.errors.get("code"),outlined:"",disabled:!e.gateways},on:{keydown:function(r){return e.clearFormErrors(r,"code")}},model:{value:e.form.code,callback:function(r){e.$set(e.form,"code",r)},expression:"form.code"}}),e._v(" "),t("v-text-field",{attrs:{label:e.$t("Name"),type:"text",rules:[e.validationRequired],error:e.form.errors.has("name"),"error-messages":e.form.errors.get("name"),outlined:"",disabled:!e.gateways},on:{keydown:function(r){return e.clearFormErrors(r,"name")}},model:{value:e.form.name,callback:function(r){e.$set(e.form,"name",r)},expression:"form.name"}}),e._v(" "),t("v-textarea",{attrs:{label:e.$t("Description"),error:e.form.errors.has("description"),"error-messages":e.form.errors.get("description"),outlined:"",disabled:!e.gateways},on:{keydown:function(r){return e.clearFormErrors(r,"description")}},model:{value:e.form.description,callback:function(r){e.$set(e.form,"description",r)},expression:"form.description"}}),e._v(" "),e.get(e.gatewayPaymentMethod,"allowed_currencies.0")?t("v-select",{attrs:{items:e.gatewayPaymentMethod.id?e.gatewayPaymentMethod.allowed_currencies:[],label:e.$t("Reference currency"),disabled:!e.gateways,error:e.form.errors.has("currency"),"error-messages":e.form.errors.get("currency"),outlined:""},on:{change:function(r){return e.clearFormErrors(r,"currency")}},model:{value:e.form.currency,callback:function(r){e.$set(e.form,"currency",r)},expression:"form.currency"}}):t("v-text-field",{attrs:{label:e.$t("Reference currency"),type:"text",rules:[e.validationRequired],error:e.form.errors.has("currency"),"error-messages":e.form.errors.get("currency"),outlined:"",disabled:!e.gateways},on:{keydown:function(r){return e.clearFormErrors(r,"currency")}},model:{value:e.form.currency,callback:function(r){e.$set(e.form,"currency",r)},expression:"form.currency"}}),e._v(" "),t("v-text-field",{attrs:{label:e.$t("Reference exchange rate"),type:"text",rules:[e.validationRequired,e.validationPositiveNumber],error:e.form.errors.has("rate"),"error-messages":e.form.errors.get("rate"),prefix:"1 "+e.form.currency+" = ",suffix:e.$t("credits"),hint:e.$t("Amount of credits per 1 unit of the reference currency"),"persistent-hint":!0,outlined:"",disabled:!e.gateways},on:{keydown:function(r){return e.clearFormErrors(r,"rate")}},model:{value:e.form.rate,callback:function(r){e.$set(e.form,"rate",e._n(r))},expression:"form.rate"}}),e._v(" "),e.gateway.id?e._e():t("v-text-field",{attrs:{label:e.$t("Decimal places"),type:"text",rules:[e.validationInteger,function(r){return e.validationMin(r,0)},function(r){return e.validationMax(r,8)}],error:e.form.errors.has("decimal_places"),"error-messages":e.form.errors.get("decimal_places"),hint:e.$t("Number of decimal places, which payment amount should be rounded to."),"persistent-hint":!0,outlined:"",disabled:!e.gateways},on:{keydown:function(r){return e.clearFormErrors(r,"code")}},model:{value:e.form.decimal_places,callback:function(r){e.$set(e.form,"decimal_places",e._n(r))},expression:"form.decimal_places"}}),e._v(" "),e.gatewayPaymentMethod.id?t("div",{staticClass:"mt-5"},e._l(e.gatewayPaymentMethod.parameters,(function(r){return t("form-parameter",{key:r.id,attrs:{parameter:r,form:e.form,"form-key":"payment_method_parameters"},model:{value:e.form.payment_method_parameters[r.id],callback:function(t){e.$set(e.form.payment_method_parameters,r.id,t)},expression:"form.payment_method_parameters[parameter.id]"}})})),1):e._e(),e._v(" "),e.gateways?t("entity-parameters",{model:{value:e.form.parameters,callback:function(r){e.$set(e.form,"parameters",r)},expression:"form.parameters"}}):e._e(),e._v(" "),t("v-switch",{attrs:{label:e.$t("Enabled"),color:"primary","false-value":0,"true-value":1,disabled:!e.gateways},model:{value:e.form.enabled,callback:function(r){e.$set(e.form,"enabled",r)},expression:"form.enabled"}}),e._v(" "),t("v-skeleton-loader",{attrs:{type:"button",loading:!e.gateways}},[t("v-btn",{attrs:{type:"submit",color:"primary",disabled:!e.formIsValid||e.form.busy,loading:e.form.busy}},[e._v("\n                "+e._s(e.$t("Create"))+"\n              ")])],1)],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null);r.default=R.exports;v()(R,{VBtn:y.a,VCard:h.a,VCardText:g.c,VCol:b.a,VContainer:w.a,VForm:_.a,VIcon:x.a,VRow:$.a,VSelect:k.a,VSkeletonLoader:P.a,VSpacer:V.a,VSwitch:E.a,VTextField:I.a,VTextarea:C.a,VToolbar:q.a,VToolbarTitle:N.a})},U48Y:function(e,r,t){"use strict";var a={name:"FormParameter",mixins:[t("C3Ci").a],props:{parameter:{type:Object,required:!0},value:{validator:function(e){return"string"==typeof e||"number"==typeof e||null===e},required:!0},form:{type:Object,required:!0},formKey:{type:String,required:!0,default:"parameters"},disabled:{type:Boolean,required:!1,default:!1}},methods:{change:function(e){this.$emit("input",e)}}};r.a=a},dx8q:function(e,r,t){"use strict";var a={name:"EntityParameters",mixins:[t("C3Ci").a],props:{value:{type:Array,required:!0}},data:function(){return{parameterName:"",parameters:this.value}},computed:{parameterTypes:function(){return["input","textarea","switch"]}},methods:{addParameter:function(){var e=this.parameterName.replace(/\s/g,"_").toLowerCase();if(""===this.parameterName)return!1;var r={id:e,type:"input",name:this.parameterName,description:"",validation:"",default:""};this.parameters.push(r),this.parameterName=""},removeParameter:function(e){this.parameters.splice(e,1)},change:function(e){this.$emit("input",this.parameters)}}};r.a=a}}]);
//# sourceMappingURL=payments-resources-js-pages-admin-deposit-methods-create.js.map